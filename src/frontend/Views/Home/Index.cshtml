@{
    ViewData["Title"] = "Home";
}

<div class="page-shell">
    <section class="login-layout" id="loginView">
        <section class="login-brand">
            <div class="brand-mark">NDL</div>
            <h1>New Devices Lab</h1>
            <p class="brand-copy">Manage people, projects, and ordering from one place.</p>
        </section>

        <section class="login-panel">
            <div class="panel-head">
                <p class="eyebrow">Sign in</p>
                <h2>Welcome back</h2>
            </div>

            <form id="loginForm">
                <label>
                    Username or email
                    <input type="text" name="identifier" autocomplete="username" required />
                </label>
                <label>
                    Password
                    <input type="password" name="password" autocomplete="current-password" required />
                </label>
                <label class="checkbox-inline">
                    <input type="checkbox" name="rememberMe" />
                    <span>Keep me signed in</span>
                </label>
                <button type="submit">Login</button>
                <p class="form-message" id="loginMessage"></p>
            </form>
        </section>
    </section>

    <div class="app-shell hidden" id="appView">
        <aside class="sidebar">
            <div class="sidebar-brand">
                <div class="brand-mark small">NDL</div>
                <div>
                    <p class="eyebrow">Workspace</p>
                    <h2>New Devices Lab</h2>
                </div>
            </div>

            <nav class="sidebar-nav" id="sidebarNav">
                <a class="nav-link is-active" href="#homeSection">Home</a>
                <a class="nav-link hidden" id="adminNavLink" href="#adminSection">Admin</a>
                <a class="nav-link" href="/swagger">API</a>
            </nav>

            <div class="sidebar-user">
                <p class="eyebrow">Signed in</p>
                <h3 id="currentUserName">User</h3>
                <p class="muted" id="currentUserMeta"></p>
                <button class="secondary-button" id="logoutButton" type="button">Logout</button>
            </div>
        </aside>

        <main class="content">
            <section class="hero-card" id="homeSection">
                <div>
                    <p class="eyebrow">Home</p>
                    <h1 id="homeTitle">Welcome</h1>
                    <p class="hero-copy" id="homeCopy"></p>
                </div>
                <div class="summary-grid">
                    <article class="summary-card">
                        <span class="summary-label">Groups</span>
                        <strong class="summary-value" id="groupCount">0</strong>
                    </article>
                    <article class="summary-card">
                        <span class="summary-label">Permissions</span>
                        <strong class="summary-value" id="permissionCount">0</strong>
                    </article>
                </div>
            </section>

            <section class="user-section" id="userInfoSection">
                <div class="section-head">
                    <p class="eyebrow">Account</p>
                    <h3>Your access</h3>
                </div>
                <div class="account-grid">
                    <section class="card">
                        <h4>Groups</h4>
                        <div class="chip-list" id="userGroups"></div>
                    </section>
                    <section class="card">
                        <h4>Permissions</h4>
                        <div class="chip-list" id="userPermissions"></div>
                    </section>
                </div>
            </section>

            <section class="admin-section hidden" id="adminSection">
                <div class="section-head">
                    <p class="eyebrow">Administration</p>
                    <h3>Manage access</h3>
                </div>

                <div class="stats-row">
                    <article class="stat-card">
                        <span class="summary-label">Users</span>
                        <strong class="summary-value" data-stat="users">0</strong>
                    </article>
                    <article class="stat-card">
                        <span class="summary-label">Groups</span>
                        <strong class="summary-value" data-stat="groups">0</strong>
                    </article>
                    <article class="stat-card">
                        <span class="summary-label">Permissions</span>
                        <strong class="summary-value" data-stat="permissions">0</strong>
                    </article>
                </div>

                <div class="admin-grid">
                    <section class="card card-tall">
                        <div class="section-head compact">
                            <div>
                                <p class="eyebrow">Users</p>
                                <h4>User list</h4>
                            </div>
                        </div>
                        <div class="stack-list" id="usersList">
                            <p class="muted">Loading users...</p>
                        </div>
                    </section>

                    <section class="card">
                        <div class="section-head compact">
                            <div>
                                <p class="eyebrow">Create</p>
                                <h4>Add user</h4>
                            </div>
                        </div>
                        <form id="createUserForm">
                            <label>
                                Radboud Email
                                <input type="email" name="radboudEmail" required />
                            </label>
                            <label>
                                Username
                                <input type="text" name="username" required />
                            </label>
                            <label>
                                Password
                                <input type="password" name="password" minlength="12" required />
                            </label>
                            <label>
                                Student Number
                                <input type="text" name="studentNumber" required />
                            </label>
                            <label>
                                Enrollment Date
                                <input type="date" name="enrollmentDate" required />
                            </label>
                            <fieldset>
                                <legend>Groups</legend>
                                <div class="checkbox-list" id="createGroupOptions"></div>
                            </fieldset>
                            <button type="submit">Create user</button>
                            <p class="form-message" id="createUserMessage"></p>
                        </form>
                    </section>
                </div>

                <div class="admin-grid">
                    <section class="card">
                        <div class="section-head compact">
                            <div>
                                <p class="eyebrow">Memberships</p>
                                <h4>Assign groups</h4>
                            </div>
                        </div>
                        <form id="membershipForm">
                            <label>
                                User
                                <select id="membershipUserSelect" name="userId"></select>
                            </label>
                            <fieldset>
                                <legend>Groups</legend>
                                <div class="checkbox-list" id="membershipGroupOptions"></div>
                            </fieldset>
                            <button type="submit">Save memberships</button>
                            <p class="form-message" id="membershipMessage"></p>
                        </form>
                    </section>

                    <section class="card">
                        <div class="section-head compact">
                            <div>
                                <p class="eyebrow">Permissions</p>
                                <h4>Group permissions</h4>
                            </div>
                        </div>
                        <form id="groupPermissionForm">
                            <label>
                                Group
                                <select id="groupPermissionSelect" name="groupId"></select>
                            </label>
                            <fieldset>
                                <legend>Permissions</legend>
                                <div class="checkbox-list long-list" id="permissionOptions"></div>
                            </fieldset>
                            <button type="submit">Save permissions</button>
                            <p class="form-message" id="groupPermissionMessage"></p>
                        </form>
                    </section>
                </div>

                <div class="admin-grid">
                    <section class="card">
                        <div class="section-head compact">
                            <div>
                                <p class="eyebrow">Groups</p>
                                <h4>Overview</h4>
                            </div>
                        </div>
                        <div class="stack-list" id="groupsList">
                            <p class="muted">Loading groups...</p>
                        </div>
                    </section>

                    <section class="card">
                        <div class="section-head compact">
                            <div>
                                <p class="eyebrow">Permissions</p>
                                <h4>Catalog</h4>
                            </div>
                        </div>
                        <div class="chip-list" id="permissionsList">
                            <p class="muted">Loading permissions...</p>
                        </div>
                    </section>
                </div>
            </section>
        </main>
    </div>
</div>
